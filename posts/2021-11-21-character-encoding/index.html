<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Character encodings: ASCII, UTF-8, Unicode and what is Latin-1? | Lucas Viana's ruminations</title><meta name=keywords content="encoding,engineering,computer-science"><meta name=description content="What is Unicode, why is it used everywhere, and what are the options?
We, software developers need to use string data types pretty much daily and yet, there is a lot under the surface that nowadays we don&rsquo;t even think about anymore. This makes character encodings a basic thing, but is it simple?
Encoding, you say? So let&rsquo;s start from the beginning, what is &ldquo;enconding&rdquo;, really?
To encode is to convert one type of data into another type."><meta name=author content="Lucas Viana"><link rel=canonical href=https://lucas-viana.com/posts/2021-11-21-character-encoding/><link crossorigin=anonymous href=/assets/css/stylesheet.8b523f1730c922e314350296d83fd666efa16519ca136320a93df674d00b6325.css integrity="sha256-i1I/FzDJIuMUNQKW2D/WZu+hZRnKE2MgqT32dNALYyU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://lucas-viana.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://lucas-viana.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://lucas-viana.com/favicon-32x32.png><link rel=apple-touch-icon href=https://lucas-viana.com/apple-touch-icon.png><link rel=mask-icon href=https://lucas-viana.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Character encodings: ASCII, UTF-8, Unicode and what is Latin-1?"><meta property="og:description" content="What is Unicode, why is it used everywhere, and what are the options?
We, software developers need to use string data types pretty much daily and yet, there is a lot under the surface that nowadays we don&rsquo;t even think about anymore. This makes character encodings a basic thing, but is it simple?
Encoding, you say? So let&rsquo;s start from the beginning, what is &ldquo;enconding&rdquo;, really?
To encode is to convert one type of data into another type."><meta property="og:type" content="article"><meta property="og:url" content="https://lucas-viana.com/posts/2021-11-21-character-encoding/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-03T16:36:48+01:00"><meta property="article:modified_time" content="2021-11-03T16:36:48+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Character encodings: ASCII, UTF-8, Unicode and what is Latin-1?"><meta name=twitter:description content="What is Unicode, why is it used everywhere, and what are the options?
We, software developers need to use string data types pretty much daily and yet, there is a lot under the surface that nowadays we don&rsquo;t even think about anymore. This makes character encodings a basic thing, but is it simple?
Encoding, you say? So let&rsquo;s start from the beginning, what is &ldquo;enconding&rdquo;, really?
To encode is to convert one type of data into another type."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://lucas-viana.com/posts/"},{"@type":"ListItem","position":3,"name":"Character encodings: ASCII, UTF-8, Unicode and what is Latin-1?","item":"https://lucas-viana.com/posts/2021-11-21-character-encoding/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Character encodings: ASCII, UTF-8, Unicode and what is Latin-1?","name":"Character encodings: ASCII, UTF-8, Unicode and what is Latin-1?","description":"What is Unicode, why is it used everywhere, and what are the options?\nWe, software developers need to use string data types pretty much daily and yet, there is a lot under the surface that nowadays we don\u0026rsquo;t even think about anymore. This makes character encodings a basic thing, but is it simple?\nEncoding, you say? So let\u0026rsquo;s start from the beginning, what is \u0026ldquo;enconding\u0026rdquo;, really?\nTo encode is to convert one type of data into another type.","keywords":["encoding","engineering","computer-science"],"articleBody":"What is Unicode, why is it used everywhere, and what are the options?\nWe, software developers need to use string data types pretty much daily and yet, there is a lot under the surface that nowadays we don’t even think about anymore. This makes character encodings a basic thing, but is it simple?\nEncoding, you say? So let’s start from the beginning, what is “enconding”, really?\nTo encode is to convert one type of data into another type. We could go as far as saying that written text encodes spoken language, or that emotions are encoded in our facial expressions or that the color of our eyes are encoded in our DNAs. Converting a decimal number into its binary or hexadecimal representation is also a type of encoding, e.g. 15 → 1111 → F.\nOne interesting encoding example is the Braille writing system for vizually impaired people. It is represented by characters that can be printed onto embossed paper.\nA Braille character is represented by a “cell”, which is 2 columns and 3 rows of possible raised dots: the presence of a raised dot is a 1, and the abscense is a 0. This 6-bit encoding allows for the existence of 64 different values, which is plenty enough for the entire latin alphabet. The cool part is that in spite of being binary in nature, it was created in 1824, way before the first electronic digital calculators were brought to life during World War II.\nFor example:\n⠁⠃⠉ → abc ⠅⠇⠍ → klm Character encoding in computer engineering Computers are here to serve us humans (not if you ask Mark Zuckerberg, but that’s another topic), and humans have extremely varied languages, and to complicate things, we inveted written characters: several times.\nWe also reinvented encoding many times over: thousands of years ago the Chinese had already encoded the words “war” and “peace” as “beacon fire ON” and “beacon fire OFF” on the Great Wall of China; telegraph engineers had their own character encoding called Baudot Code; Francis Bacon encoded hidden binary messages in plain sight by writing a decoy text in two distinct fonts in 1605; etc, etc, etc.\nIt then comes as no surprise that we, humans, wanted computers to speak our own languages, and be able to understand our human characters. However, computers only understand binary data, so we had to create binary encodings of our (messy, countless, varied) human characters in order to store and process them with a digital computer.\nASCII ASCII is not really the first, but the first relevant character encoding system for us here, since it still lives on through UTF-8 (we will get to UTF-8 soon).\nWhat engineers did was to simply group all symbols that they needed a computer to understand and assigned a number from 0 to 127 to them. (Note that it takes 7 bits to represent 127 characters, so the 8th bit will always be zero, which makes ASCII self-synchronizing.)\nThis encoding includes all latin characters, both lower and upper case, decimal numbers from 0 to 9, many desired symbols such as parenthesis, brackets, punctuation, and even some control characters, like the “bell” (character number 7, which would ring a physical bell on the machine) and the “line feed”.\nIn ASCII the character table and the encoding are one and the same, i.e. the binary representation of the character number is the encoding.\nASCII, however, is a bit problematic. The root of the problem is that it was developed by Americans, to work well in English. No need to say that speakers of other languages had to figure out how to represent their own characters. Swedes needed the leters ä, ö and å; Greeks needed the all letters of an entire different alphabet (e.g. α, β, γ, …).\nLatin1, half-fixing half of the problems ASCII missed the mark by a tiny bit for many many languages. The Swedish laguage, for example, only needed 3 extra characters (ä, ö and å), out of which “ä” and “ö” would also be useful to German. Portuguese needed a “ç” which would also be useful to French.\nSpeakers of such languages created a new encoding based on ASCII. The first 127 characters would be exactly the same, but from 128 to 255 they added whatever they thought was necessary.\nNote that this has 2 consequences:\nThe 8th bit which was always zero in ASCII, is now used for the actual encoding, and we lose self-synchronization. Of course, not everyone managed to squeeze in their characters. One example was the French œ and Ÿ characters. Don’t mess with the French. And so was born Latin1, a.k.a. ISO 8850-1. And because some people were unhappy with Latin1, other slightly similar encodings were created:\nISO 8859-15 (a.k.a. Latin0, Latin9) Windows 1252 MCS And many more (for e.g. Cyrilic and Greek alphabets). All these enchodings strived to keep compatible with ASCII from 0 to 127. However, from 128 to 255 one could only guess. Some favoured the mathematical accuracy of “±”, while others favoured non-printable control characters.\nLong story short: Latin1 did not define characters for the range 128 to 159, so Windows 1252 took advantage of that and introduced printable characters for many of those. It included: the oh-so-important € sign; the Ÿ which allows round-trip capitalization of French text without loss; the more finiky curly quotes (“), which made encoding missmatches a big pain to read, because those would be turned into question marks indicating an encoding error and would be sprinkled all over curly-eager text. As a result, text editors started decoding Latin1 text with Windows 1252 “just in case”.\nIt does not stop there. There are also Windows Code Pages, which allows representing characters from many other languages. Each code page is, in fact a different encoding, but calling it “pages” makes the mess more tolerable.\nIn the pre-internet days the pain was not so obvious, but as soon as we started sharing documentes over the web to and from anywhere, a better way became sorely needed.\nUnicode How about collecting, categorizing and indexing all characters from all human languages so that only one encoding is needed? Screw this 256 limit and give every human character a number, for example:\nsymbol decimal Hexadecimal code point … … … a 97 U+61 b 98 U+62 A 41 U+29 B 42 U+2A … … … γ 947 U+3B3 Γ 915 U+393 … … … 爱 24859 U+611b … … … and so on. Just list them all in this one huge table.\nThat is the challenge that a few individuals in the end of the 80s accepted and called their character map Unicode. For the sake of computers though, they promised to not assign more than 1 112 064 characters, as a hugely overestimated upper limit (a little more than the previous 255.)\nUnicode assigns a “code point” to each character in their “character repertoir”. Unicode 14.0 includes 144 697 characters from pretty much any languange we can think of. Best of all (but not controversy-free), the first 127 characters are exactly the same as defined by ASCII. Less impressively, however, characters 128 through 255 are taken from Latin1 (this causes some complications that we will talk about soon).\nSo! Problem solved, right? Just transform the Unicode code point into binary and let’s live on! Not so fast… ASCII was one byte long, but we need 3 bytes for encoding the number 144 697, but only one byte to encode the letter “A” (code point 65). If we need 3 bytes for all ASCII characters we would have a torrent of zero bytes taking up space in our hard drives. Imagine trippling the storage taken by all text in English when coverting from ASCII to Unicode? This was a problem that has a brilliant solution called UTF-8.\nWe will describe UTF-8 in detail, but for now, let’s put Unicode into scrutiny with a magnifying glass 🔎. Or maybe 🕵🏽‍♂️, to keep things interesting and cohesive with my Brazilian background.\nUnicode overview This is where we go the extra mile for a bit of knowledge.\nThe entire Unicode character space is devided into planes. Each plane is a block of contiguous 65536 code points (0xFFFF in hexadecimal, see?).\nPlane 0 contains the vast majority of all characters that are used in human writing, and it is called the BMP (Basic Multiligual Plane). It includes the most common Chinese, Japanese and Korean characts in a group called CJK. But it does not include all CJK characters. Those need entire planes, keep reading.\nPlane 1 is the SMP: Supplementary Multiligual Plane. It contains the oh so loved emojis, some historic characters, mathematical and music symbols. You get the point.\nPlanes 2 and 3 contain many of the Chinese, Japanese and Korean ideographic characters. There is a bit of controversy in this subject because the Unicode consortiumn is engaged in trying to categorize and maybe bunch together some characters used in different languages in a process called Han unification. Also, these characters are assigned high code-points which, in UTF-8 consume more bytes, being less space-efficient. So now you know that all of this does not come controversy-free.\nPlane 14, to keep things spicy, has some has “variation selectors” that can be used to differentiate characters in planes 2 and 3. I found quite hard to find a practical example of this, so I’ll stop spending time on it now and hope someone reading this will send me a nifty example 😁. Moving on…\nUTF-32 Tired of clever encodings? Ready to waste a lot of space with zeroes? Then UTF-32 is for you. Well, sort of.\nIn a lower level program written in C, when we convert an emoji character, for example, back into its Unicode code point\nBOM – Byte Order Mark TODO\n","wordCount":"1635","inLanguage":"en","datePublished":"2021-11-03T16:36:48+01:00","dateModified":"2021-11-03T16:36:48+01:00","author":{"@type":"Person","name":"Lucas Viana"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://lucas-viana.com/posts/2021-11-21-character-encoding/"},"publisher":{"@type":"Organization","name":"Lucas Viana's ruminations","logo":{"@type":"ImageObject","url":"https://lucas-viana.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://lucas-viana.com accesskey=h title="Lucas Viana's ruminations (Alt + H)">Lucas Viana's ruminations</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://lucas-viana.com>Home</a>&nbsp;»&nbsp;<a href=https://lucas-viana.com/posts/>Posts</a></div><h1 class=post-title>Character encodings: ASCII, UTF-8, Unicode and what is Latin-1?</h1><div class=post-meta><span title='2021-11-03 16:36:48 +0100 +0100'>November 3, 2021</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Lucas Viana&nbsp;|&nbsp;<a href=https://github.com/senhorlucas/senhorlucas.github.io/tree/main/docs/content/posts/2021-11-21-character-encoding.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#encoding-you-say aria-label="Encoding, you say?">Encoding, you say?</a></li><li><a href=#character-encoding-in-computer-engineering aria-label="Character encoding in computer engineering">Character encoding in computer engineering</a></li><li><a href=#ascii aria-label=ASCII>ASCII</a></li><li><a href=#latin1-half-fixing-half-of-the-problems aria-label="Latin1, half-fixing half of the problems">Latin1, half-fixing half of the problems</a></li><li><a href=#unicode aria-label=Unicode>Unicode</a><ul><li><a href=#unicode-overview aria-label="Unicode overview">Unicode overview</a></li></ul></li><li><a href=#utf-32 aria-label=UTF-32>UTF-32</a></li><li><a href=#bom--byte-order-mark aria-label="BOM – Byte Order Mark">BOM – Byte Order Mark</a></li></ul></div></details></div><div class=post-content><p>What is Unicode, why is it used everywhere, and what are the options?</p><p>We, software developers need to use string data types pretty much daily and
yet, there is a lot under the surface that nowadays we don&rsquo;t even think about
anymore. This makes character encodings a basic thing, but is it simple?</p><h2 id=encoding-you-say>Encoding, you say?<a hidden class=anchor aria-hidden=true href=#encoding-you-say>#</a></h2><p>So let&rsquo;s start from the beginning, what is &ldquo;enconding&rdquo;, really?</p><p>To encode is to convert one type of data into another type. We could go as far
as saying that written text encodes spoken language, or that emotions are
encoded in our facial expressions or that the color of our eyes are encoded in
our DNAs. Converting a decimal number into its binary or hexadecimal
representation is also a type of encoding, e.g. 15 → 1111 → F.</p><p>One interesting encoding example is the Braille writing system for vizually
impaired people. It is represented by characters that can be printed onto
embossed paper.</p><p>A Braille character is represented by a &ldquo;cell&rdquo;, which is 2 columns and 3 rows
of possible raised dots: the presence of a raised dot is a 1, and the abscense
is a 0. This 6-bit encoding allows for the existence of 64 different values,
which is plenty enough for the entire latin alphabet. The cool part is that in
spite of being binary in nature, it was created in 1824, way before the first
electronic digital calculators were brought to life during World War II.</p><p>For example:</p><ul><li>⠁⠃⠉ → abc</li><li>⠅⠇⠍ → klm</li></ul><h2 id=character-encoding-in-computer-engineering>Character encoding in computer engineering<a hidden class=anchor aria-hidden=true href=#character-encoding-in-computer-engineering>#</a></h2><p>Computers are here to serve us humans (not if you ask Mark Zuckerberg, but
that&rsquo;s another topic), and humans have extremely varied languages, and to
complicate things, we inveted written characters: several times.</p><p>We also reinvented encoding many times over: thousands of years ago the Chinese
had already encoded the words &ldquo;war&rdquo; and &ldquo;peace&rdquo; as &ldquo;beacon fire ON&rdquo; and &ldquo;beacon
fire OFF&rdquo; on the Great Wall of China; telegraph engineers had their own
character encoding called Baudot Code; Francis Bacon encoded hidden binary
messages in plain sight by writing a decoy text in two distinct fonts in 1605;
etc, etc, etc.</p><p>It then comes as no surprise that we, humans, wanted computers to speak our own
languages, and be able to understand our human characters. However, computers
only understand binary data, so we had to create binary encodings of our
(messy, countless, varied) human characters in order to store and process them
with a digital computer.</p><h2 id=ascii>ASCII<a hidden class=anchor aria-hidden=true href=#ascii>#</a></h2><p>ASCII is not really the first, but the first relevant character encoding
system for us here, since it still lives on through UTF-8 (we will get to
UTF-8 soon).</p><p>What engineers did was to simply group all symbols that they needed a computer
to understand and assigned a number from 0 to 127 to them. (Note that it takes
7 bits to represent 127 characters, so the 8th bit will always be zero, which
makes ASCII self-synchronizing.)</p><p>This encoding includes all latin characters, both lower and upper case,
decimal numbers from 0 to 9, many desired symbols such as parenthesis,
brackets, punctuation, and even some control characters, like the &ldquo;bell&rdquo;
(character number 7, which would ring a physical bell on the machine) and the
&ldquo;line feed&rdquo;.</p><p>In ASCII the character table and the encoding are one and the same, i.e. the
binary representation of the character number <strong>is</strong> the encoding.</p><p>ASCII, however, is a bit problematic. The root of the problem is that it was
developed by Americans, to work well in English. No need to say that speakers
of other languages had to figure out how to represent their own characters.
Swedes needed the leters ä, ö and å; Greeks needed the all letters of an entire
different alphabet (e.g. α, β, γ, &mldr;).</p><h2 id=latin1-half-fixing-half-of-the-problems>Latin1, half-fixing half of the problems<a hidden class=anchor aria-hidden=true href=#latin1-half-fixing-half-of-the-problems>#</a></h2><p>ASCII missed the mark by a tiny bit for many many languages. The Swedish
laguage, for example, only needed 3 extra characters (ä, ö and å), out of which
&ldquo;ä&rdquo; and &ldquo;ö&rdquo; would also be useful to German. Portuguese needed a &ldquo;ç&rdquo; which would
also be useful to French.</p><p>Speakers of such languages created a new encoding based on ASCII. The first 127
characters would be exactly the same, but from 128 to 255 they added whatever
they thought was necessary.</p><p>Note that this has 2 consequences:</p><ol><li>The 8th bit which was always zero in ASCII, is now used for the actual
encoding, and we lose self-synchronization.</li><li>Of course, not everyone managed to squeeze in their characters. One example
was the French œ and Ÿ characters. Don&rsquo;t mess with the French.</li></ol><p>And so was born Latin1, a.k.a. ISO 8850-1. And because some people were unhappy
with Latin1, other <strong>slightly similar</strong> encodings were created:</p><ul><li>ISO 8859-15 (a.k.a. Latin0, Latin9)</li><li>Windows 1252</li><li>MCS</li><li>And many more (for e.g. Cyrilic and Greek alphabets).</li></ul><p>All these enchodings strived to keep compatible with ASCII from 0 to 127.
However, from 128 to 255 one could only guess. Some favoured the mathematical
accuracy of &ldquo;±&rdquo;, while others favoured non-printable control characters.</p><p>Long story short: Latin1 did not define characters for the range 128 to 159, so
Windows 1252 took advantage of that and introduced printable characters for
many of those. It included: the oh-so-important € sign; the Ÿ which allows
round-trip capitalization of French text without loss; the more finiky curly
quotes (“), which made encoding missmatches a big pain to read, because those
would be turned into question marks indicating an encoding error and would be
sprinkled all over curly-eager text. As a result, text editors started decoding
Latin1 text with Windows 1252 &ldquo;just in case&rdquo;.</p><p>It does not stop there. There are also Windows Code Pages, which allows
representing characters from many other languages. Each code page is, in fact a
different encoding, but calling it &ldquo;pages&rdquo; makes the mess more tolerable.</p><p>In the pre-internet days the pain was not so obvious, but as soon as we started
sharing documentes over the web to and from anywhere, a better way became sorely
needed.</p><h2 id=unicode>Unicode<a hidden class=anchor aria-hidden=true href=#unicode>#</a></h2><p>How about collecting, categorizing and indexing all characters from all human
languages so that only one encoding is needed? Screw this 256 limit and give
every human character a number, for example:</p><table><thead><tr><th>symbol</th><th>decimal</th><th>Hexadecimal code point</th></tr></thead><tbody><tr><td>&mldr;</td><td>&mldr;</td><td>&mldr;</td></tr><tr><td>a</td><td>97</td><td>U+61</td></tr><tr><td>b</td><td>98</td><td>U+62</td></tr><tr><td>A</td><td>41</td><td>U+29</td></tr><tr><td>B</td><td>42</td><td>U+2A</td></tr><tr><td>&mldr;</td><td>&mldr;</td><td>&mldr;</td></tr><tr><td>γ</td><td>947</td><td>U+3B3</td></tr><tr><td>Γ</td><td>915</td><td>U+393</td></tr><tr><td>&mldr;</td><td>&mldr;</td><td>&mldr;</td></tr><tr><td>爱</td><td>24859</td><td>U+611b</td></tr><tr><td>&mldr;</td><td>&mldr;</td><td>&mldr;</td></tr></tbody></table><p>and so on. Just list them all in this one huge table.</p><p>That is the challenge that a few individuals in the end of the 80s accepted
and called their character map Unicode. For the sake of computers though,
they promised to not assign more than 1 112 064 characters, as a hugely
overestimated upper limit (a little more than the previous 255.)</p><p>Unicode assigns a &ldquo;code point&rdquo; to each character in their &ldquo;character
repertoir&rdquo;. Unicode 14.0 includes 144 697 characters from pretty much any
languange we can think of. Best of all (but not controversy-free), the first
127 characters are exactly the same as defined by ASCII. Less impressively,
however, characters 128 through 255 are taken from Latin1 (this causes some
complications that we will talk about soon).</p><p>So! Problem solved, right? Just transform the Unicode code point into binary
and let&rsquo;s live on! Not so fast&mldr; ASCII was one byte long, but we need 3 bytes
for encoding the number 144 697, but only one byte to encode the letter &ldquo;A&rdquo;
(code point 65). If we need 3 bytes for all ASCII characters we would have a
torrent of zero bytes taking up space in our hard drives. Imagine trippling the
storage taken by all text in English when coverting from ASCII to Unicode? This
was a problem that has a brilliant solution called UTF-8.</p><p>We will describe UTF-8 in detail, but for now, let&rsquo;s put Unicode into scrutiny
with a magnifying glass 🔎. Or maybe 🕵🏽‍♂️, to keep things interesting
and cohesive with my Brazilian background.</p><h3 id=unicode-overview>Unicode overview<a hidden class=anchor aria-hidden=true href=#unicode-overview>#</a></h3><p>This is where we go the extra mile for a bit of knowledge.</p><p>The entire Unicode character space is devided into planes. Each plane is a block
of contiguous 65536 code points (0xFFFF in hexadecimal, see?).</p><p>Plane 0 contains the vast majority of all characters that are used in human
writing, and it is called the BMP (Basic Multiligual Plane). It includes
the most common Chinese, Japanese and Korean characts in a group called CJK.
But it does not include all CJK characters. Those need entire planes, keep
reading.</p><p>Plane 1 is the SMP: Supplementary Multiligual Plane. It contains the oh so
loved emojis, some historic characters, mathematical and music symbols. You get
the point.</p><p>Planes 2 and 3 contain many of the Chinese, Japanese and Korean ideographic
characters. There is a bit of controversy in this subject because the Unicode
consortiumn is engaged in trying to categorize and maybe bunch together some
characters used in different languages in a process called Han unification.
Also, these characters are assigned high code-points which, in UTF-8 consume
more bytes, being less space-efficient. So now you know that all of this does
not come controversy-free.</p><p>Plane 14, to keep things spicy, has some has &ldquo;variation selectors&rdquo; that can
be used to differentiate characters in planes 2 and 3. I found quite hard to
find a practical example of this, so I&rsquo;ll stop spending time on it now and
hope someone reading this will send me a nifty example 😁. Moving on…</p><h2 id=utf-32>UTF-32<a hidden class=anchor aria-hidden=true href=#utf-32>#</a></h2><p>Tired of clever encodings? Ready to waste a lot of space with zeroes?
Then UTF-32 is for you. Well, sort of.</p><p>In a lower level program written in C, when we convert an emoji character, for
example, back into its Unicode code point</p><h2 id=bom--byte-order-mark>BOM – Byte Order Mark<a hidden class=anchor aria-hidden=true href=#bom--byte-order-mark>#</a></h2><p>TODO</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://lucas-viana.com/tags/encoding/>encoding</a></li><li><a href=https://lucas-viana.com/tags/engineering/>engineering</a></li><li><a href=https://lucas-viana.com/tags/computer-science/>computer-science</a></li></ul><nav class=paginav><a class=prev href=https://lucas-viana.com/posts/2022-07-05-sed/><span class=title>« Prev</span><br><span>Learn `sed` and be happy</span></a>
<a class=next href=https://lucas-viana.com/posts/2021-12-25-utf8/><span class=title>Next »</span><br><span>The down and dirty of UTF-8</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Character encodings: ASCII, UTF-8, Unicode and what is Latin-1? on twitter" href="https://twitter.com/intent/tweet/?text=Character%20encodings%3a%20ASCII%2c%20UTF-8%2c%20Unicode%20and%20what%20is%20Latin-1%3f&url=https%3a%2f%2flucas-viana.com%2fposts%2f2021-11-21-character-encoding%2f&hashtags=encoding%2cengineering%2ccomputer-science"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Character encodings: ASCII, UTF-8, Unicode and what is Latin-1? on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2flucas-viana.com%2fposts%2f2021-11-21-character-encoding%2f&title=Character%20encodings%3a%20ASCII%2c%20UTF-8%2c%20Unicode%20and%20what%20is%20Latin-1%3f&summary=Character%20encodings%3a%20ASCII%2c%20UTF-8%2c%20Unicode%20and%20what%20is%20Latin-1%3f&source=https%3a%2f%2flucas-viana.com%2fposts%2f2021-11-21-character-encoding%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Character encodings: ASCII, UTF-8, Unicode and what is Latin-1? on reddit" href="https://reddit.com/submit?url=https%3a%2f%2flucas-viana.com%2fposts%2f2021-11-21-character-encoding%2f&title=Character%20encodings%3a%20ASCII%2c%20UTF-8%2c%20Unicode%20and%20what%20is%20Latin-1%3f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Character encodings: ASCII, UTF-8, Unicode and what is Latin-1? on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2flucas-viana.com%2fposts%2f2021-11-21-character-encoding%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Character encodings: ASCII, UTF-8, Unicode and what is Latin-1? on whatsapp" href="https://api.whatsapp.com/send?text=Character%20encodings%3a%20ASCII%2c%20UTF-8%2c%20Unicode%20and%20what%20is%20Latin-1%3f%20-%20https%3a%2f%2flucas-viana.com%2fposts%2f2021-11-21-character-encoding%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Character encodings: ASCII, UTF-8, Unicode and what is Latin-1? on telegram" href="https://telegram.me/share/url?text=Character%20encodings%3a%20ASCII%2c%20UTF-8%2c%20Unicode%20and%20what%20is%20Latin-1%3f&url=https%3a%2f%2flucas-viana.com%2fposts%2f2021-11-21-character-encoding%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://lucas-viana.com>Lucas Viana's ruminations</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>